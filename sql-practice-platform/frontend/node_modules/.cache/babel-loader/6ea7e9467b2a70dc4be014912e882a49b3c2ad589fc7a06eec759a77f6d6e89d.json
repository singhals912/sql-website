{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link}from'react-router-dom';import{bookmarksUrl}from'../config/environment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookmarksList=_ref=>{let{bookmarkType=null,className=''}=_ref;const[bookmarks,setBookmarks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Use the prop directly, don't maintain separate state\nconst selectedType=bookmarkType||'all';// Session ID for anonymous users (use same key as ProgressService)\nconst getSessionId=()=>{let sessionId=localStorage.getItem('sql_practice_session_id');if(!sessionId){sessionId=\"session_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9));localStorage.setItem('sql_practice_session_id',sessionId);}return sessionId;};const fetchBookmarks=useCallback(async()=>{setLoading(true);setError(null);try{const sessionId=getSessionId();// The backend /bookmarks endpoint should filter on the frontend side,\n// not via different URLs. All bookmarks are returned and we filter them.\nconst url=bookmarksUrl();// Just get base bookmarks URL\nconsole.log('Fetching bookmarks:',{url,sessionId,selectedType});const response=await fetch(url,{headers:{'X-Session-ID':sessionId}});console.log('Bookmarks response status:',response.status);if(response.ok){const data=await response.json();console.log('Bookmarks response data:',data);let allBookmarks=data.bookmarks||[];// Filter bookmarks based on selectedType\nlet filteredBookmarks=allBookmarks;if(selectedType!=='all'){// Map frontend filter names to backend type values\nconst typeMap={'favorites':'favorite','review':'review_later','challenging':'challenging'};const backendType=typeMap[selectedType]||selectedType;filteredBookmarks=allBookmarks.filter(bookmark=>bookmark.type===backendType);}setBookmarks(filteredBookmarks);console.log('Updated bookmarks state with',filteredBookmarks.length,'items (filtered from',allBookmarks.length,'total)');}else{const errorData=await response.json().catch(()=>({}));console.error('Bookmarks fetch failed:',response.status,errorData);throw new Error(errorData.error||\"Server error: \".concat(response.status));}}catch(error){console.error('Error fetching bookmarks:',error);setError('Failed to load bookmarks');}finally{setLoading(false);}},[bookmarkType,selectedType]);// Dependencies for useCallback\nconst removeBookmark=async problemId=>{try{const sessionId=getSessionId();const response=await fetch(bookmarksUrl(problemId),{method:'DELETE',headers:{'x-session-id':sessionId}});if(response.ok){setBookmarks(prev=>prev.filter(bookmark=>bookmark.problem_id!==problemId));}}catch(error){console.error('Error removing bookmark:',error);}};// Fetch bookmarks when bookmarkType changes\nuseEffect(()=>{fetchBookmarks();},[fetchBookmarks]);// Add refresh every 5 seconds to catch new bookmarks - now properly respects filter\nuseEffect(()=>{const interval=setInterval(()=>{console.log('Auto-refreshing bookmarks...');fetchBookmarks();},5000);return()=>clearInterval(interval);},[fetchBookmarks]);const getBookmarkIcon=type=>{switch(type){case'favorite':return'‚≠ê';case'review_later':return'üìö';case'challenging':return'üî•';default:return'üîñ';}};const getDifficultyColor=difficulty=>{switch(difficulty===null||difficulty===void 0?void 0:difficulty.toLowerCase()){case'easy':return'text-green-600 bg-green-100 dark:bg-green-900/50 dark:text-green-300';case'medium':return'text-yellow-600 bg-yellow-100 dark:bg-yellow-900/50 dark:text-yellow-300';case'hard':return'text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-300';default:return'text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 \".concat(className),children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse space-y-4\",children:[...Array(3)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 dark:bg-gray-700 h-16 rounded-lg\"},i))})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 dark:text-red-400 mb-2\",children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchBookmarks,className:\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\",children:\"Try Again\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(className),children:bookmarks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"No bookmarks yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 mb-4\",children:selectedType==='all'?'Start bookmarking problems to build your collection!':\"No \".concat(selectedType.replace('_',' '),\" bookmarks found.\")}),/*#__PURE__*/_jsxs(Link,{to:\"/problems\",className:\"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD0D\"}),\"Browse Problems\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:bookmarks.map(bookmark=>{var _bookmark$numeric_id,_bookmark$difficulty,_bookmark$difficulty2;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:getBookmarkIcon(bookmark.bookmark_type)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-600 dark:text-blue-400 font-mono text-sm bg-blue-100 dark:bg-blue-900/50 px-2 py-1 rounded\",children:[\"#\",(_bookmark$numeric_id=bookmark.numeric_id)===null||_bookmark$numeric_id===void 0?void 0:_bookmark$numeric_id.toString().padStart(3,'0')]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(getDifficultyColor(bookmark.difficulty)),children:((_bookmark$difficulty=bookmark.difficulty)===null||_bookmark$difficulty===void 0?void 0:_bookmark$difficulty.charAt(0).toUpperCase())+((_bookmark$difficulty2=bookmark.difficulty)===null||_bookmark$difficulty2===void 0?void 0:_bookmark$difficulty2.slice(1))})]}),/*#__PURE__*/_jsx(Link,{to:\"/practice/\".concat(bookmark.numeric_id),className:\"text-lg font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors block mb-2\",children:bookmark.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:bookmark.category_name||'Uncategorized'}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Bookmarked \",new Date(bookmark.created_at).toLocaleDateString()]})]}),bookmark.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Notes: \"}),bookmark.notes]}),bookmark.tags&&bookmark.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-1\",children:bookmark.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded\",children:[\"#\",tag]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 ml-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/practice/\".concat(bookmark.numeric_id),className:\"px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-900 transition-colors\",children:\"Solve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeBookmark(bookmark.problem_id),className:\"px-3 py-1 bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 rounded text-sm hover:bg-red-200 dark:hover:bg-red-900 transition-colors\",children:\"Remove\"})]})]})},bookmark.id);})})});};export default BookmarksList;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","bookmarksUrl","jsx","_jsx","jsxs","_jsxs","BookmarksList","_ref","bookmarkType","className","bookmarks","setBookmarks","loading","setLoading","error","setError","selectedType","getSessionId","sessionId","localStorage","getItem","concat","Date","now","Math","random","toString","substr","setItem","fetchBookmarks","url","console","log","response","fetch","headers","status","ok","data","json","allBookmarks","filteredBookmarks","typeMap","backendType","filter","bookmark","type","length","errorData","catch","Error","removeBookmark","problemId","method","prev","problem_id","interval","setInterval","clearInterval","getBookmarkIcon","getDifficultyColor","difficulty","toLowerCase","children","Array","map","_","i","onClick","replace","to","_bookmark$numeric_id","_bookmark$difficulty","_bookmark$difficulty2","bookmark_type","numeric_id","padStart","charAt","toUpperCase","slice","title","category_name","created_at","toLocaleDateString","notes","tags","tag","index","id"],"sources":["/Users/ss/Downloads/Code/Vibe_coding/SQL_practice_website/sql-practice-platform/frontend/src/components/BookmarksList.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { bookmarksUrl } from '../config/environment';\n\nconst BookmarksList = ({ bookmarkType = null, className = '' }) => {\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Use the prop directly, don't maintain separate state\n  const selectedType = bookmarkType || 'all';\n\n  // Session ID for anonymous users (use same key as ProgressService)\n  const getSessionId = () => {\n    let sessionId = localStorage.getItem('sql_practice_session_id');\n    if (!sessionId) {\n      sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      localStorage.setItem('sql_practice_session_id', sessionId);\n    }\n    return sessionId;\n  };\n\n  const fetchBookmarks = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const sessionId = getSessionId();\n      // The backend /bookmarks endpoint should filter on the frontend side,\n      // not via different URLs. All bookmarks are returned and we filter them.\n      const url = bookmarksUrl(); // Just get base bookmarks URL\n      \n      console.log('Fetching bookmarks:', { url, sessionId, selectedType });\n      \n      const response = await fetch(url, {\n        headers: {\n          'X-Session-ID': sessionId\n        }\n      });\n      \n      console.log('Bookmarks response status:', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('Bookmarks response data:', data);\n        \n        let allBookmarks = data.bookmarks || [];\n        \n        // Filter bookmarks based on selectedType\n        let filteredBookmarks = allBookmarks;\n        if (selectedType !== 'all') {\n          // Map frontend filter names to backend type values\n          const typeMap = {\n            'favorites': 'favorite',\n            'review': 'review_later', \n            'challenging': 'challenging'\n          };\n          const backendType = typeMap[selectedType] || selectedType;\n          filteredBookmarks = allBookmarks.filter(bookmark => bookmark.type === backendType);\n        }\n        \n        setBookmarks(filteredBookmarks);\n        console.log('Updated bookmarks state with', filteredBookmarks.length, 'items (filtered from', allBookmarks.length, 'total)');\n      } else {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('Bookmarks fetch failed:', response.status, errorData);\n        throw new Error(errorData.error || `Server error: ${response.status}`);\n      }\n    } catch (error) {\n      console.error('Error fetching bookmarks:', error);\n      setError('Failed to load bookmarks');\n    } finally {\n      setLoading(false);\n    }\n  }, [bookmarkType, selectedType]); // Dependencies for useCallback\n\n  const removeBookmark = async (problemId) => {\n    try {\n      const sessionId = getSessionId();\n      const response = await fetch(bookmarksUrl(problemId), {\n        method: 'DELETE',\n        headers: {\n          'x-session-id': sessionId\n        }\n      });\n      \n      if (response.ok) {\n        setBookmarks(prev => prev.filter(bookmark => bookmark.problem_id !== problemId));\n      }\n    } catch (error) {\n      console.error('Error removing bookmark:', error);\n    }\n  };\n\n  // Fetch bookmarks when bookmarkType changes\n  useEffect(() => {\n    fetchBookmarks();\n  }, [fetchBookmarks]);\n\n  // Add refresh every 5 seconds to catch new bookmarks - now properly respects filter\n  useEffect(() => {\n    const interval = setInterval(() => {\n      console.log('Auto-refreshing bookmarks...');\n      fetchBookmarks();\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, [fetchBookmarks]);\n\n  const getBookmarkIcon = (type) => {\n    switch (type) {\n      case 'favorite': return '‚≠ê';\n      case 'review_later': return 'üìö';\n      case 'challenging': return 'üî•';\n      default: return 'üîñ';\n    }\n  };\n\n  const getDifficultyColor = (difficulty) => {\n    switch (difficulty?.toLowerCase()) {\n      case 'easy': return 'text-green-600 bg-green-100 dark:bg-green-900/50 dark:text-green-300';\n      case 'medium': return 'text-yellow-600 bg-yellow-100 dark:bg-yellow-900/50 dark:text-yellow-300';\n      case 'hard': return 'text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-300';\n      default: return 'text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n\n  if (loading) {\n    return (\n      <div className={`p-6 ${className}`}>\n        <div className=\"animate-pulse space-y-4\">\n          {[...Array(3)].map((_, i) => (\n            <div key={i} className=\"bg-gray-200 dark:bg-gray-700 h-16 rounded-lg\"></div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`p-6 ${className}`}>\n        <div className=\"text-center py-8\">\n          <div className=\"text-red-500 dark:text-red-400 mb-2\">‚ùå</div>\n          <div className=\"text-gray-600 dark:text-gray-400\">{error}</div>\n          <button\n            onClick={fetchBookmarks}\n            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${className}`}>\n      {/* Bookmarks List */}\n      {bookmarks.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <div className=\"text-4xl mb-4\">üìö</div>\n          <h3 className=\"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            No bookmarks yet\n          </h3>\n          <p className=\"text-gray-500 dark:text-gray-400 mb-4\">\n            {selectedType === 'all' \n              ? 'Start bookmarking problems to build your collection!'\n              : `No ${selectedType.replace('_', ' ')} bookmarks found.`\n            }\n          </p>\n          <Link\n            to=\"/problems\"\n            className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n          >\n            <span>üîç</span>\n            Browse Problems\n          </Link>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {bookmarks.map(bookmark => (\n            <div\n              key={bookmark.id}\n              className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow\"\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <span className=\"text-xl\">{getBookmarkIcon(bookmark.bookmark_type)}</span>\n                    <span className=\"text-blue-600 dark:text-blue-400 font-mono text-sm bg-blue-100 dark:bg-blue-900/50 px-2 py-1 rounded\">\n                      #{bookmark.numeric_id?.toString().padStart(3, '0')}\n                    </span>\n                    <span className={`px-2 py-1 rounded text-xs font-medium ${getDifficultyColor(bookmark.difficulty)}`}>\n                      {bookmark.difficulty?.charAt(0).toUpperCase() + bookmark.difficulty?.slice(1)}\n                    </span>\n                  </div>\n                  \n                  <Link\n                    to={`/practice/${bookmark.numeric_id}`}\n                    className=\"text-lg font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors block mb-2\"\n                  >\n                    {bookmark.title}\n                  </Link>\n                  \n                  <div className=\"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n                    <span>{bookmark.category_name || 'Uncategorized'}</span>\n                    <span>‚Ä¢</span>\n                    <span>Bookmarked {new Date(bookmark.created_at).toLocaleDateString()}</span>\n                  </div>\n                  \n                  {bookmark.notes && (\n                    <div className=\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300\">\n                      <span className=\"font-medium\">Notes: </span>\n                      {bookmark.notes}\n                    </div>\n                  )}\n                  \n                  {bookmark.tags && bookmark.tags.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-1\">\n                      {bookmark.tags.map((tag, index) => (\n                        <span\n                          key={index}\n                          className=\"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded\"\n                        >\n                          #{tag}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"flex gap-2 ml-4\">\n                  <Link\n                    to={`/practice/${bookmark.numeric_id}`}\n                    className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-900 transition-colors\"\n                  >\n                    Solve\n                  </Link>\n                  <button\n                    onClick={() => removeBookmark(bookmark.problem_id)}\n                    className=\"px-3 py-1 bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 rounded text-sm hover:bg-red-200 dark:hover:bg-red-900 transition-colors\"\n                  >\n                    Remove\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookmarksList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}