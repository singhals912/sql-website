{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{recommendationsUrl}from'../config/environment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LearningPathPreview=()=>{const[conceptMastery,setConceptMastery]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchLearningPath();// Listen for progress updates\nconst handleProgressUpdate=()=>{fetchLearningPath();};window.addEventListener('progressUpdated',handleProgressUpdate);return()=>{window.removeEventListener('progressUpdated',handleProgressUpdate);};},[]);const fetchLearningPath=async()=>{try{const sessionId=localStorage.getItem('sql_practice_session_id');if(!sessionId)return;const response=await axios.get(recommendationsUrl('problems'),{headers:{'x-session-id':sessionId}});if(response.data.success){setConceptMastery(response.data.data.conceptMastery||{});}}catch(error){console.error('Error fetching learning path:',error);}finally{setLoading(false);}};const getLevelInfo=()=>{var _conceptMastery$Basic,_conceptMastery$Aggre,_conceptMastery$Joins,_conceptMastery$Windo,_conceptMastery$Advan,_conceptMastery$Subqu,_conceptMastery$Time;if(!conceptMastery)return[];// Calculate mastery for different skill levels\nconst basicQueries=((_conceptMastery$Basic=conceptMastery['Basic Queries'])===null||_conceptMastery$Basic===void 0?void 0:_conceptMastery$Basic.overall_mastery)||0;const aggregation=((_conceptMastery$Aggre=conceptMastery['Aggregation'])===null||_conceptMastery$Aggre===void 0?void 0:_conceptMastery$Aggre.overall_mastery)||0;const joins=((_conceptMastery$Joins=conceptMastery['Joins'])===null||_conceptMastery$Joins===void 0?void 0:_conceptMastery$Joins.overall_mastery)||0;const windowFunctions=((_conceptMastery$Windo=conceptMastery['Window Functions'])===null||_conceptMastery$Windo===void 0?void 0:_conceptMastery$Windo.overall_mastery)||0;const advancedTopics=((_conceptMastery$Advan=conceptMastery['Advanced Topics'])===null||_conceptMastery$Advan===void 0?void 0:_conceptMastery$Advan.overall_mastery)||0;// Calculate overall levels\nconst beginner=Math.round((basicQueries+aggregation)/2);const intermediate=Math.round((joins+(((_conceptMastery$Subqu=conceptMastery['Subqueries'])===null||_conceptMastery$Subqu===void 0?void 0:_conceptMastery$Subqu.overall_mastery)||0))/2);const advanced=Math.round((windowFunctions+(((_conceptMastery$Time=conceptMastery['Time Analysis'])===null||_conceptMastery$Time===void 0?void 0:_conceptMastery$Time.overall_mastery)||0))/2);const expert=Math.round(advancedTopics);return[{name:'Beginner',description:'Basic SELECT, WHERE, ORDER BY',mastery:beginner,icon:'ðŸŒ±',gradient:'bg-emerald-600',concepts:['Basic Queries','Aggregation']},{name:'Intermediate',description:'JOINs, Subqueries, GROUP BY',mastery:intermediate,icon:'ðŸ’ª',gradient:'bg-amber-600',concepts:['Joins','Subqueries']},{name:'Advanced',description:'Window Functions, CTEs',mastery:advanced,icon:'ðŸš€',gradient:'bg-slate-600',concepts:['Window Functions','Time Analysis']},{name:'Expert',description:'Optimization, Complex Queries',mastery:expert,icon:'ðŸ‘‘',gradient:'bg-slate-700',concepts:['Advanced Topics']}];};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[...Array(4)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-200 dark:bg-slate-700 rounded-lg p-4 animate-pulse\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-16\"})},i))});}const levels=getLevelInfo();return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 animate-slide-up animation-delay-100\",children:levels.map((level,index)=>{const isUnlocked=index===0||levels[index-1].mastery>=60;const opacity=isUnlocked?'opacity-100':'opacity-60';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative \".concat(opacity),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(level.gradient,\" text-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow card-hover animate-scale-in animation-delay-\").concat(index*100+100),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold\",children:level.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:level.icon})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 mb-3\",children:level.description}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-white/20 rounded-full h-2 progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white h-2 rounded-full animate-progress\",style:{'--progress-width':\"\".concat(level.mastery,\"%\"),width:\"\".concat(level.mastery,\"%\")}})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-80 mt-1\",children:isUnlocked?\"\".concat(level.mastery,\"% Complete\"):'Locked'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 \".concat(isUnlocked?level.gradient:'bg-slate-400',\" rounded-full border-4 border-white dark:border-slate-900\")})]},level.name);})});};export default LearningPathPreview;","map":{"version":3,"names":["React","useState","useEffect","axios","recommendationsUrl","jsx","_jsx","jsxs","_jsxs","LearningPathPreview","conceptMastery","setConceptMastery","loading","setLoading","fetchLearningPath","handleProgressUpdate","window","addEventListener","removeEventListener","sessionId","localStorage","getItem","response","get","headers","data","success","error","console","getLevelInfo","_conceptMastery$Basic","_conceptMastery$Aggre","_conceptMastery$Joins","_conceptMastery$Windo","_conceptMastery$Advan","_conceptMastery$Subqu","_conceptMastery$Time","basicQueries","overall_mastery","aggregation","joins","windowFunctions","advancedTopics","beginner","Math","round","intermediate","advanced","expert","name","description","mastery","icon","gradient","concepts","className","children","Array","map","_","i","levels","level","index","isUnlocked","opacity","concat","style","width"],"sources":["/Users/ss/Downloads/Code/Vibe_coding/SQL_practice_website/sql-practice-platform/frontend/src/components/LearningPathPreview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { recommendationsUrl } from '../config/environment';\n\nconst LearningPathPreview = () => {\n  const [conceptMastery, setConceptMastery] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchLearningPath();\n\n    // Listen for progress updates\n    const handleProgressUpdate = () => {\n      fetchLearningPath();\n    };\n\n    window.addEventListener('progressUpdated', handleProgressUpdate);\n    \n    return () => {\n      window.removeEventListener('progressUpdated', handleProgressUpdate);\n    };\n  }, []);\n\n  const fetchLearningPath = async () => {\n    try {\n      const sessionId = localStorage.getItem('sql_practice_session_id');\n      if (!sessionId) return;\n\n      const response = await axios.get(recommendationsUrl('problems'), {\n        headers: { 'x-session-id': sessionId }\n      });\n\n      if (response.data.success) {\n        setConceptMastery(response.data.data.conceptMastery || {});\n      }\n    } catch (error) {\n      console.error('Error fetching learning path:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getLevelInfo = () => {\n    if (!conceptMastery) return [];\n\n    // Calculate mastery for different skill levels\n    const basicQueries = conceptMastery['Basic Queries']?.overall_mastery || 0;\n    const aggregation = conceptMastery['Aggregation']?.overall_mastery || 0;\n    const joins = conceptMastery['Joins']?.overall_mastery || 0;\n    const windowFunctions = conceptMastery['Window Functions']?.overall_mastery || 0;\n    const advancedTopics = conceptMastery['Advanced Topics']?.overall_mastery || 0;\n\n    // Calculate overall levels\n    const beginner = Math.round((basicQueries + aggregation) / 2);\n    const intermediate = Math.round((joins + (conceptMastery['Subqueries']?.overall_mastery || 0)) / 2);\n    const advanced = Math.round((windowFunctions + (conceptMastery['Time Analysis']?.overall_mastery || 0)) / 2);\n    const expert = Math.round(advancedTopics);\n\n    return [\n      {\n        name: 'Beginner',\n        description: 'Basic SELECT, WHERE, ORDER BY',\n        mastery: beginner,\n        icon: 'ðŸŒ±',\n        gradient: 'bg-emerald-600',\n        concepts: ['Basic Queries', 'Aggregation']\n      },\n      {\n        name: 'Intermediate', \n        description: 'JOINs, Subqueries, GROUP BY',\n        mastery: intermediate,\n        icon: 'ðŸ’ª',\n        gradient: 'bg-amber-600',\n        concepts: ['Joins', 'Subqueries']\n      },\n      {\n        name: 'Advanced',\n        description: 'Window Functions, CTEs',\n        mastery: advanced,\n        icon: 'ðŸš€',\n        gradient: 'bg-slate-600',\n        concepts: ['Window Functions', 'Time Analysis']\n      },\n      {\n        name: 'Expert',\n        description: 'Optimization, Complex Queries',\n        mastery: expert,\n        icon: 'ðŸ‘‘',\n        gradient: 'bg-slate-700',\n        concepts: ['Advanced Topics']\n      }\n    ];\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        {[...Array(4)].map((_, i) => (\n          <div key={i} className=\"bg-slate-200 dark:bg-slate-700 rounded-lg p-4 animate-pulse\">\n            <div className=\"h-16\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  const levels = getLevelInfo();\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 animate-slide-up animation-delay-100\">\n      {levels.map((level, index) => {\n        const isUnlocked = index === 0 || levels[index - 1].mastery >= 60;\n        const opacity = isUnlocked ? 'opacity-100' : 'opacity-60';\n        \n        return (\n          <div key={level.name} className={`relative ${opacity}`}>\n            <div className={`${level.gradient} text-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow card-hover animate-scale-in animation-delay-${index * 100 + 100}`}>\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"font-bold\">{level.name}</h4>\n                <span className=\"text-2xl\">{level.icon}</span>\n              </div>\n              <p className=\"text-sm opacity-90 mb-3\">{level.description}</p>\n              <div className=\"w-full bg-white/20 rounded-full h-2 progress-bar\">\n                <div \n                  className=\"bg-white h-2 rounded-full animate-progress\" \n                  style={{ \n                    '--progress-width': `${level.mastery}%`,\n                    width: `${level.mastery}%` \n                  }}\n                ></div>\n              </div>\n              <p className=\"text-xs opacity-80 mt-1\">\n                {isUnlocked ? `${level.mastery}% Complete` : 'Locked'}\n              </p>\n            </div>\n            <div className={`absolute -right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 ${\n              isUnlocked ? level.gradient : 'bg-slate-400'\n            } rounded-full border-4 border-white dark:border-slate-900`}></div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default LearningPathPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}